<div class="dashboard-container" dir="rtl">
  @if (loading) {
    <div class="loading-container">
      <div class="spinner"></div>
      <p>טוען נתונים...</p>
    </div>
  } @else if (error) {
    <div class="error-container">
      <p>שגיאה בטעינת הנתונים. אנא נסה שוב מאוחר יותר.</p>
    </div>
  } @else {
    <div class="dashboard-header">
      <h1>לוח מחוונים אנליטי</h1>
      <p class="dashboard-subtitle">סקירת פעילות משתמשים ונתוני שירים</p>
    </div>

    <div class="charts-grid">
      <!-- גרף התחברויות -->
      <div class="chart-card">
        <div class="chart-header">
          <h2>גרף התחברויות</h2>
          <p class="chart-description">מציג את מספר ההתחברויות לפי תאריך</p>
        </div>
        <div class="chart-wrapper">
          <div echarts [options]="userChartOption" class="chart"></div>
        </div>
      </div>
      
      <!-- גרף התפלגות שירים -->
      @if (songChartOption) {
        <div class="chart-card">
          <div class="chart-header">
            <h2>התפלגות שירים</h2>
            <p class="chart-description">השוואה בין שירים ציבוריים ופרטיים</p>
          </div>
          <div class="chart-wrapper">
            <div echarts [options]="songChartOption" class="chart"></div>
          </div>
        </div>
      } @else {
        <div class="chart-card">
          <div class="chart-header">
            <h2>התפלגות שירים</h2>
            <p class="chart-description">השוואה בין שירים ציבוריים ופרטיים</p>
          </div>
          <div class="chart-wrapper loading-chart">
            <div class="spinner small-spinner"></div>
            <p>טוען נתוני שירים...</p>
          </div>
        </div>
      }
    </div>

    <div class="dashboard-footer">
      <p>הנתונים מתעדכנים בזמן אמת</p>
    </div>
  }
</div>